(()=>{"use strict";var t=function(){function t(t,i,e){this.x=t,this.y=i,this.image=e}return t.prototype.render=function(t){t.drawImage(this.image,this.x,this.y)},t}();const i=t;var e=function(){function t(t,i,e,s,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===e&&(e=100),void 0===s&&(s=100),void 0===o&&(o="#FF009E"),this.x=t,this.y=i,this.width=e,this.height=s,this.colour=o}return t.prototype.moveBy=function(t,i){this.x+=t,this.y+=i},t.prototype.moveTo=function(t,i){this.x=t,this.y=i},t.prototype.render=function(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fillStyle=this.colour,t.fill(),t.closePath()},t}();const s=e;var o,r=(o=function(t,i){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},o(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),n=function(t){function i(i,e,s,o,r,n){void 0===i&&(i=0),void 0===e&&(e=0),void 0===s&&(s=2),void 0===o&&(o=-2),void 0===r&&(r=10),void 0===n&&(n="white");var h=t.call(this,i,e,0,0,n)||this;return h.dx=s,h.dy=o,h.radius=r,h.colour=n,h}return r(i,t),i.prototype.move=function(){this.moveBy(this.dx,this.dy)},i.prototype.render=function(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillstyle=this.colour,t.fill(),t.closePath()},i}(s);const h=n;var a=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},t(i,e)};return function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}();const l=function(t){function i(i,e,s,o,r){void 0===s&&(s=75),void 0===o&&(o=20),void 0===r&&(r="#FF009E");var n=t.call(this,i,e,s,o,r)||this;return n.status=1,n}return a(i,t),i}(s);var c=function(){function t(t,i,e,s,o,r,n,h){this.rows=t,this.columns=i,this.bricks=[],this.width=e,this.height=s,this.padding=o,this.offsetTop=r,this.offsetLeft=n,this.colour=h,this.loadBricks()}return t.prototype.loadBricks=function(){for(var t=0;t<this.columns;t+=1){this.bricks[t]=[];for(var i=0;i<this.rows;i+=1){var e=t*(this.width+this.padding)+this.offsetLeft,s=i*(this.height+this.padding)+this.offsetTop;this.bricks[t][i]=new l(e,s,this.width,this.height,this.colour)}}},t.prototype.render=function(t){for(var i=0;i<this.columns;i+=1)for(var e=0;e<this.rows;e+=1){var s=this.bricks[i][e];1===s.status&&s.render(t)}},t}();const d=c;var u=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},t(i,e)};return function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}();const p=function(t){function i(i,e,s,o,r,n){var h=t.call(this,i,e,s,o,n)||this;return h.speed=r,h.colour=n,h}return u(i,t),i}(s);var f=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},t(i,e)};return function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}(),y=function(t){function i(i,e,s,o,r){void 0===o&&(o="#8109E5"),void 0===r&&(r="16px Impact");var n=t.call(this,e,s,0,0,o)||this;return n.text=i,n.value=0,n.font=r,n}return f(i,t),i.prototype.render=function(t){t.font=this.font,t.fillStyle=this.colour,t.fillText("".concat(this.text," ").concat(this.value),this.x,this.y)},i}(s);const b=y;var v=function(){function t(t,e){this.canvas=t,this.ctx=e;var s=new Image;s.src="../images/clouds.gif",this.bg=new i(0,0,s),this.ballRadius=10,this.ballColour="#F0B005",this.ball=new h(100,200,2,-2,this.ballRadius,this.ballColour),this.paddleHeight=10,this.paddleWidth=75,this.paddleSpeed=10,this.paddleColour="#3AFF00",this.paddleXStart=(this.canvas.width-this.paddleWidth)/2,this.paddleYStart=this.canvas.height-this.paddleHeight-5,this.paddle=new p(this.paddleXStart,this.paddleYStart,this.paddleWidth,this.paddleHeight,this.paddleSpeed,this.paddleColour),this.leftPressed=!1,this.rightPressed=!1,this.brickRows=4,this.brickColumns=5,this.brickWidth=75,this.brickHeight=20,this.brickPadding=10,this.brickOffsetTop=30,this.brickOffsetLeft=30,this.brickColour="#FF009E",this.bricks=new d(this.brickRows,this.brickColumns,this.brickWidth,this.brickHeight,this.brickPadding,this.brickOffsetTop,this.brickOffsetLeft,this.brickColour),this.GameLabelScore=new b("Score",8,20),this.GameLabelLives=new b("Lives",this.canvas.width-65,20),this.loadListeners(),this.draw()}return t.prototype.loadListeners=function(){document.addEventListener("keydown",this.keyDownHandler.bind(this),!1),document.addEventListener("keyup",this.keyUpHandler.bind(this),!1),document.addEventListener("mousemove",this.mouseMoveHandler.bind(this),!1),this.GameLabelLives.value=3},t.prototype.keyDownHandler=function(t){"Right"===t.key||"ArrowRight"===t.key?this.rightPressed=!0:"Left"!==t.key&&"ArrowLeft"!==t.key||(this.leftPressed=!0)},t.prototype.keyUpHandler=function(t){"Right"===t.key||"ArrowRight"===t.key?this.rightPressed=!1:"Left"!==t.key&&"ArrowLeft"!==t.key||(this.leftPressed=!1)},t.prototype.mouseMoveHandler=function(t){var i=t.clientX-this.canvas.offsetLeft;i>0&&i<this.canvas.width&&this.paddle.moveTo(i-this.paddle.width/2,this.paddleYStart)},t.prototype.movePaddle=function(){this.rightPressed&&this.paddle.x<this.canvas.width-this.paddle.width?this.paddle.moveBy(7,0):this.leftPressed&&this.paddle.x>0&&this.paddle.moveBy(-7,0)},t.prototype.ballMovement=function(){(this.ball.x+this.ball.dx>this.canvas.width-this.ballRadius||this.ball.x+this.ball.dx<this.ballRadius)&&(this.ball.dx=-this.ball.dx),this.ball.y+this.ball.dy<this.ballRadius?this.ball.dy=-this.ball.dy:this.ball.y+this.ball.dy>this.canvas.height-this.ballRadius&&(this.ball.x>this.paddle.x&&this.ball.x<this.paddle.x+this.paddleWidth?this.ball.dy=-this.ball.dy:(this.GameLabelLives.value-=1,this.GameLabelLives.value?(this.ball.x=this.canvas.width/2,this.ball.y=this.canvas.height-30,this.ball.dx=3,this.ball.dy=-3):(alert("GAME OVER"),document.location.reload())))},t.prototype.collisionDetection=function(){for(var t=0;t<this.bricks.columns;t+=1)for(var i=0;i<this.bricks.rows;i+=1){var e=this.bricks.bricks[t][i];1===e.status&&this.ball.x>e.x&&this.ball.x<e.x+this.brickWidth&&this.ball.y>e.y&&this.ball.y<e.y+this.brickHeight&&(this.ball.dy=-this.ball.dy,e.status=0,this.GameLabelScore.value+=1,this.GameLabelScore.value===this.bricks.columns*this.bricks.rows&&alert("Congratulations, You Win! You scored ".concat(this.GameLabelScore.value," points.")))}},t.prototype.draw=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.bg.render(this.ctx),this.ball.render(this.ctx),this.paddle.render(this.ctx),this.bricks.render(this.ctx),this.GameLabelScore.render(this.ctx),this.GameLabelLives.render(this.ctx),this.collisionDetection(),this.ball.move(),this.movePaddle(),this.ballMovement(),requestAnimationFrame(this.draw.bind(this))},t}();const w=v;var m=document.getElementById("myCanvas"),k=m.getContext("2d");new w(m,k)})();